Author: Sam Weisenthal (firstnamelastname@gmail.com).

THIS CODE IS FOR RESEARCH PURPOSES AND NOT FOR USE IN PATIENT CARE. THE SOFTWARE IS 
PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR 
PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE 
FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, 
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE*.

If this code is used for reasearch purposes, please cite:

	Weisenthal, S. J., Quill, C., Farooq, S., Kautz, H., & Zand, M. S. (2018). Predicting 
		acute kidney injury at hospital re-entry using high-dimensional electronic health record 
		data. PLoS One, 13(11), e0204920. doi:10.1371/journal.pone.0204920

There are a mixture of slurm and python scripts.  Some of the main scripts are included
in this directory; the others are in the ‘utils’ folder, which contains scripts that do everything from
implementing nested cross validation to specifying plots. The directory ‘utils’ also
includes some scripts that were run to generate tables and gather summary statistics. Many were converted to
python files from ipython notebooks. They are a bit messy, and some contain paths, but they produce the numbers.
The directory 'Crosswalks'  contains some naming files (eg, to convert ICD, DRG, CPT codes to disease names); 
these files are all publicly available (eg, on cms.gov) except for one that linked location codes in the 
dataset to the actual names in the UR hospital system---this one was not released.

Preprocessing:

	Preprocessing code is strung together in main2.py and generates the cohort (X, y, and groups). 
	This code generates some datasets and files in addition to the cohort.  Figures related to 
	cohort selection were also generated by this code. The file run.sbatch just runs main2.py
	on the server.

Training:

	Experiments (50 iterations 5-fold nested cv) were run using aki_run_ncv.sbatch and its variations.  
	This file takes several arguments including the paths to X, y, and groups, which were mentioned
	above.

Evaluation:

	Analyze.ipynb was then pointed to the directory with results.  The analyze.ipynb for the general
	experiment for GBC is included (a similar file was produced for each system).


Versions:
	Python 2.7.12 with Anaconda 5.3.0 was used throughout except for the system comparisons using 
	Baycomp, which required Python 3.  

Reference:

	*License from https://opensource.org/licenses/MIT
